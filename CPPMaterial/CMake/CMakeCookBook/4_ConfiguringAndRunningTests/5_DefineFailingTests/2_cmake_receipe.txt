The point here is that we can tell cmake whether a test has failed or not, using the set_test_properties() function. Note that in 
what follows, we don't use any particular language, but rather we just find the python interpreter.

Here's something that I found bizzare about running this test. We must not write the test command in quotations.
This is because as such, it will be interpreted as a single executable command. Therefore, ctest would consider
the whole thing as an executable, and for example, it will execute something like this in Windows:

path/to/python/python.exe path/to/source/failure_script.py.exe  # See the bizarreness!

""""""""
cmake_minimum_required(VERSION 3.18.0 FATAL_ERROR)
project(failing_test LANGUAGES NONE)

find_package(PythonInterpreter REQUIRED)

include(CTest)
enable_testing()
add_test(
    NAME failure_test
    COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/failure_script.py
)

set_tests_properties(failure_test PROPERTIES WILL_FAIL true)
""""""""