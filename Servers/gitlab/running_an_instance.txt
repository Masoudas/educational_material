Essentially, we want to assign a shared folder on the host system, and then run the docker instance.

The variable GITLAB_HOST folder must be set to declare the shared volume in .bashrc file.

ON SETTING THE HOST_NAME: I guess, there's no harm in setting it to the qualified domain name (in our case git.sircotech.ir)

NOTE: If needed to change the port, then change the env variable below.

##### The following goes into bashrc.
$GITLAB_HOME=/srv/gitlab
######

# Run the following in terminal
$ sudo docker run -d --name gitlab_instance --hostname git.sircotech.ir  -p 8300:80 -p 22:22   --restart always  --volume $GITLAB_HOME/config:/etc/gitlab  --volume $GITLAB_HOME/logs:/var/log/gitlab  --volume $GITLAB_HOME/data:/var/opt/gitlab  --shm-size 256m --env GITLAB_PORT=8300  gitlab/gitlab-ee:latest

# gitlab_rails['backup_path'] = "/var/opt/gitlab/backups"
# gitlab_rails['backup_gitaly_backup_path'] = "/opt/gitlab/embedded/bin/gitaly-backup"
